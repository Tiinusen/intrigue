(function(e){function t(t){for(var i,a,l=t[0],s=t[1],c=t[2],u=0,d=[];u<l.length;u++)a=l[u],r[a]&&d.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==r[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={0:0},r={0:0},o=[];function l(e){return s.p+"js/"+({}[e]||e)+"."+{2:"e0f69b8e",3:"d0efa58c",4:"962b80f3"}[e]+".js"}function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={2:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var i="css/"+({}[e]||e)+"."+{2:"ce6b4744",3:"31d6cfe0",4:"31d6cfe0"}[e]+".css",r=s.p+i,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=o[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===r))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===i||u===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");o.request=i,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)}).then(function(){a[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise(function(t,n){i=r[e]=[t,n]});t.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=l(e),c=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");o.type=i,o.request=a,n[1](o)}r[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=u;o.push([0,1]),n()})({0:function(e,t,n){e.exports=n("56d7")},"141d":function(e,t,n){"use strict";var i=n("ffe1"),a=n.n(i);a.a},1631:function(e,t,n){},3322:function(e,t,n){"use strict";var i=n("d120"),a=n.n(i);a.a},3978:function(e){e.exports=["PC",{Event:[{"Dark Secret":["Chosen One","Curse","Family Secret","Forbidden Knowledge","Guardian","Guilty of Crime","Victim of Crime","Mental Illness","Occult Experience","Pact with Dark Forces","Medical Experiment","Returned from the Other Side","Rootless","Strange Disapperance","Visitations"],Gathering:["Meeting","Party","Other"],Mission:["Retrieval","Assasination","Abduction","Arrest","Other"],Crime:["Assault","Murder","Theft","Rape","Kidnapping","Extortion","Other"]},"Other"],Place:{Country:["Nation","Region","City","Town"],Building:[{House:["Ordinary","Fancy","Decayed"]},"Apartment Building","Mansion","Hotel","Villa","Hidden","Other"],Location:["Point","Area"]},Object:[]},"Leader","Monster",{Organization:["Business","Secret","Government","Other"]},{Group:["People","Mob","Gang","Worshippers"]},"Contact","Influence"]},4318:function(e,t,n){"use strict";var i=n("1631"),a=n.n(i);a.a},4386:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u});var i=n("fcab");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];return"undefined"===typeof t&&(t=null),u.forEach(function(a){Object(i["b"])(t)||Object(i["b"])(t[a])?Object(i["b"])(e)||Object(i["b"])(e[a])?n.push(a+"=Blank"):n.push(a+"="+e[a]):n.push(a+"="+t[a])}),"https://avataaars.io/?"+n.join("&")}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this,e),this.topType="NoHair",this.avatarStyle="Circle",this.Copy(t,n)}return o(e,[{key:"Serialize",value:function(){var e=this,t={};return u.forEach(function(n){t[n]=e[n]}),t}},{key:"Copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i["a"])(this,e,["eyeType","hairColor","eyebrowType"]),t?this:(Object(i["a"])(this,e,u),this)}},{key:"url",get:function(){return l(this)}}]),e}(),c={avatarStyle:["Circle","Transparent"],topType:["NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart"],accessoriesType:["Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers"],clotheType:["BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck"],graphicType:["Bat","Cumbia","Deer","Diamond","Hola","Pizza","Resist","Selena","Bear","SkullOutline","Skull"],clotheColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],eyeType:["Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky"],eyebrowType:["Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural"],facialHairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red"],facialHairType:["Blank","BeardMedium","BeardLight","BeardMagestic","MoustacheFancy","MoustacheMagnum"],hairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray"],hatColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],mouthType:["Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit"],skinColor:["Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black"]},u=Object.keys(c)},"4bab":function(e,t,n){},"4e6a":function(e,t,n){"use strict";var i=n("4bab"),a=n.n(i);a.a},"509e":function(e,t,n){"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){if("object"!==i(e)||null===e)return e;var t={};if(!(e instanceof Array)){for(var n in e)t[n]=a(e[n]);return t}for(var r=0;r<e.length;r++){var o=e[r];if(-1!==["string","object"].indexOf(i(o)))switch(i(o)){case"string":t[o]={};break;case"object":var l=a(o);for(var n in l)t[n]=l[n];break}}return t}n.d(t,"a",function(){return a})},"54c3":function(e,t,n){"use strict";var i=n("6c81"),a=n.n(i);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var i=n("2b0e"),a=n("ce5b"),r=n.n(a);n("bf40");i["default"].use(r.a,{theme:{primary:"#212121",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"fa"});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:e.isDarkThemeEnabled}},[n("save-load",{ref:"SaveLoad"}),n("privacy-policy",{ref:"PrivacyPolicy"}),n("preferences",{ref:"Preferences"}),n("welcome",{ref:"Welcome",on:{"click:blank":e.onBlankClick,"click:example":e.onExampleClick}}),n("help",{ref:"Help"}),n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",{staticStyle:{color:"red"}},[e._v("Intrigue")]),n("span",{staticClass:"font-weight-light"},[e._v("Map")])]),n("v-spacer"),n("v-menu",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.isLoading,expression:"!loading && !isLoading"}],staticStyle:{"z-index":"3000"},attrs:{bottom:"",left:""}},[n("v-btn",{attrs:{slot:"activator",dark:e.isDarkThemeEnabled,icon:""},slot:"activator"},[n("v-icon",{staticClass:"fas fa-ellipsis-v"})],1),n("v-list",[n("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:!e.isSignedIn,expression:"!isSignedIn"}],on:{click:e.onSignInClick}},[n("v-list-tile-title",[e._v("Sign in (Google Drive)")])],1),n("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:e.isSignedIn,expression:"isSignedIn"}],on:{click:e.onSignOutClick}},[n("v-list-tile-title",[e._v("Sign out")])],1),n("v-list-tile",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","p"],expression:"['ctrl', 'p']"}],attrs:{title:"Keyboard Shortcut: CTRL + P"},on:{click:e.onPreferencesClick},nativeOn:{shortkey:function(t){e.onPreferencesClick()}}},[n("v-list-tile-title",[e._v("Preferences")])],1),n("v-list-tile",{attrs:{disabled:!e.isSignedIn||e.isEmpty&&!e.hasFiles},on:{click:e.onSaveLoadClick}},[n("v-list-tile-title",[e._v("Save / Load")])],1),n("v-list-tile",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","s"],expression:"['ctrl', 's']"},{name:"show",rawName:"v-show",value:e.isFileLoaded&&!e.isEmpty&&e.isSignedIn,expression:"isFileLoaded && !isEmpty && isSignedIn"}],attrs:{title:"Keyboard Shortcut: CTRL + S"},on:{click:e.onQuickSave},nativeOn:{shortkey:function(t){e.onQuickSave()}}},[n("v-list-tile-title",[e._v("Quick Save")])],1),n("v-list-tile",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","l"],expression:"['ctrl', 'l']"},{name:"show",rawName:"v-show",value:e.isFileLoaded&&e.isSignedIn,expression:"isFileLoaded && isSignedIn"}],attrs:{title:"Keyboard Shortcut: CTRL + L"},on:{click:e.onQuickLoad},nativeOn:{shortkey:function(t){e.onQuickLoad()}}},[n("v-list-tile-title",[e._v("Quick Load")])],1),n("v-list-tile",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["ctrl","u"],expression:"['ctrl', 'u']"},{name:"show",rawName:"v-show",value:e.isFileLoaded&&e.isSignedIn,expression:"isFileLoaded && isSignedIn"}],attrs:{title:"Keyboard Shortcut: CTRL + U"},on:{click:e.onToggleAutoSync},nativeOn:{shortkey:function(t){e.onToggleAutoSync()}}},[n("v-list-tile-title",{directives:[{name:"show",rawName:"v-show",value:!e.isAutoSyncEnabled,expression:"!isAutoSyncEnabled"}]},[e._v("Enable AutoSync")]),n("v-list-tile-title",{directives:[{name:"show",rawName:"v-show",value:e.isAutoSyncEnabled,expression:"isAutoSyncEnabled"}]},[e._v("Disable AutoSync")])],1),n("v-list-tile",{attrs:{disabled:e.isEmpty},on:{click:e.newSession}},[n("v-list-tile-title",[e._v("New Session")])],1),n("v-list-tile",{on:{click:e.onToggleFullscreen}},[n("v-list-tile-title",[e._v(e._s(e.fullscreen?"Exit":"Enter")+" Fullscreen")])],1),n("v-list-tile",{on:{click:e.onHelpClick}},[n("v-list-tile-title",[e._v("Help")])],1)],1)],1)],1),n("v-content",[n("router-view")],1),n("v-footer",{directives:[{name:"show",rawName:"v-show",value:e.isLoading||e.loading,expression:"isLoading || loading"}],staticClass:"pa-3"},[n("v-progress-linear",{attrs:{indeterminate:!0,color:e.isDarkThemeEnabled?"white":"black"}})],1)],1)},l=[],s=n("a34a"),c=n.n(s),u=n("2f62"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{staticClass:"dialog",attrs:{dark:"","max-width":"850px",persistent:e.loading},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticStyle:{"margin-top":"3em"},attrs:{absolute:"",dark:"",fab:"",top:"",right:"",color:"black lighten-1",title:"Close"},on:{click:function(t){e.dialog=!1}}},[n("v-icon",{staticClass:"fas fa-times-circle"})],1),n("v-card-title",{staticClass:"headline"},[e._v("Save / Load")]),n("v-card-text",[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",[n("v-text-field",{attrs:{disabled:e.loading||e.isEmpty,label:"Session name"},model:{value:e.sessionName,callback:function(t){e.sessionName=t},expression:"sessionName"}}),n("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:null===e.selectedFileId&&e.loading,expression:"selectedFileId === null && loading"}],attrs:{indeterminate:!0,color:"white"}})],1),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.isEmpty,expression:"!loading && !isEmpty"}],staticStyle:{"padding-right":"2em"},attrs:{icon:"",ripple:""},on:{click:e.onSaveAs}},[n("v-icon",{attrs:{color:"white"}},[e._v("Save as")])],1)],1),n("v-layout",[n("v-flex",[n("v-list",e._l(e.$store.state.google.files,function(t){return n("v-list-tile",{key:t.id},[n("v-list-tile-content",[n("v-list-tile-title",{directives:[{name:"show",rawName:"v-show",value:e.selectedFileId!==t.id,expression:"selectedFileId !== file.id"}]},[e._v(e._s(t.name))]),n("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.selectedFileId===t.id&&e.loading,expression:"selectedFileId === file.id && loading"}],attrs:{color:"white",indeterminate:!0}})],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-md-and-down"},[n("v-btn",{attrs:{flat:"",button:""},on:{click:function(n){e.onDelete(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("Delete")])],1)],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-md-and-down"},[n("v-btn",{attrs:{flat:"",button:"",disabled:e.isEmpty},on:{click:function(n){e.onSave(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("Save")])],1)],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-md-and-down"},[n("v-btn",{attrs:{flat:"",button:""},on:{click:function(n){e.onLoad(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("Load")])],1)],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-lg-and-up"},[n("v-btn",{attrs:{icon:"",button:""},on:{click:function(n){e.onDelete(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("D")])],1)],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-lg-and-up"},[n("v-btn",{attrs:{icon:"",button:"",disabled:e.isEmpty},on:{click:function(n){e.onSave(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("S")])],1)],1),n("v-list-tile-action",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"hidden-lg-and-up"},[n("v-btn",{attrs:{icon:"",button:""},on:{click:function(n){e.onLoad(t.id)}}},[n("v-icon",{attrs:{color:"white"}},[e._v("L")])],1)],1)],1)}),1)],1)],1)],1)],1)],1)],1)],1)},f=[];n("fcab");function p(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){p(r,i,a,o,l,"next",e)}function l(e){p(r,i,a,o,l,"throw",e)}o(void 0)})}}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={watch:{dialog:function(e){e?this.onOpen():this.onClose()}},components:{},props:[],data:function(){return{dialog:!1,resolve:null,reject:null,sessionName:"",selectedFileId:null,loading:!1}},computed:v({},Object(u["b"])({hasFiles:"google/hasFiles",isEmpty:"session/isEmpty"})),methods:{onSaveAs:function(){var e=h(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,n=this.sessionName,""!==n.trim()){e.next=4;break}return e.abrupt("return");case 4:return this.$store.state.google.files.forEach(function(e){e.name===n&&(t=e.id)}),this.loading=!0,this.selectedFileId=t,e.next=9,this.$store.dispatch("google/save",{fileId:t,sessionName:n});case 9:return e.next=11,this.$store.dispatch("google/loadFileListIntoState");case 11:this.loading=!1,this.selectedFileId=null,this.sessionName="",this.dialog=!1;case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onDelete:function(){var e=h(c.a.mark(function e(t){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Are you sure you wish to delete this session file?")){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,this.selectedFileId=t,e.next=6,this.$store.dispatch("google/delete",{fileId:t});case 6:return e.next=8,this.$store.dispatch("google/loadFileListIntoState");case 8:this.loading=!1,this.selectedFileId=null,this.isEmpty&&!this.hasFiles&&(this.dialog=!1);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onSave:function(){var e=h(c.a.mark(function e(t){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Are you sure you wish to overwrite this session file?")){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,this.selectedFileId=t,e.next=6,this.$store.dispatch("google/save",{fileId:t});case 6:return e.next=8,this.$store.dispatch("google/loadFileListIntoState");case 8:this.loading=!1,this.selectedFileId=null,this.dialog=!1;case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onLoad:function(){var e=h(c.a.mark(function e(t){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isEmpty||confirm("Are you sure?")){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,this.selectedFileId=t,e.next=6,this.$store.dispatch("google/load",{fileId:t});case 6:return e.next=8,this.$store.dispatch("google/loadFileListIntoState");case 8:this.dialog=!1;case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),open:function(){var e=this;return new Promise(function(t,n){e.resolve=t,e.reject=n,i["default"].nextTick(function(){e.dialog=!0})})},onOpen:function(){var e=h(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.selectedFileId=null,this.loading=!1,e.next=4,this.$store.dispatch("google/loadFileListIntoState");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClose:function(){this.resolve()}}},m=y,g=(n("54c3"),n("2877")),k=Object(g["a"])(m,d,f,!1,null,"70ed32ec",null);k.options.__file="SaveLoad.vue";var w=k.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{staticClass:"dialog",attrs:{dark:"","max-width":"550px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-btn",{staticStyle:{"margin-top":"3em"},attrs:{absolute:"",dark:"",fab:"",top:"",right:"",color:"black lighten-1",title:"Close"},on:{click:function(t){e.dialog=!1}}},[n("v-icon",{staticClass:"fas fa-times-circle"})],1),n("v-card-title",{staticClass:"headline"},[e._v("Privacy Policy")]),n("v-card-text",[e._v("\n        Intrigue App does not share any of your data with a third-party,\n        Intrigue App does collect analytical information about how\n        the app is used through Google Analytics, but the data itself\n        is only button usages and visited views, Google Analytics\n        collects this information in such a way it can't be linked to a real user.\n        "),n("br"),n("br"),e._v("By giving Intrigue App access to your Google Drive it will\n        be able to save and load Intrigue App Sessions and also\n        to make the usage experience better providing you with the\n        possibility to save preferences and auto sync sessions.\n        "),n("br"),n("br"),e._v("In the future, maybe it will even be possible to share\n        and share and divide sessions between DMs and Players\n        "),n("br"),n("br"),e._v("\n        The source code for this project is available at "),n("a",{staticStyle:{color:"white"},attrs:{target:"_blank",href:"https://github.com/Tiinusen/intrigue"}},[e._v("github.com/Tiinusen/intrigue")])]),n("v-card-actions",[n("v-btn",{attrs:{flat:"",color:"green"},on:{click:e.onAccept}},[e._v("Accept")]),n("v-btn",{attrs:{flat:"",color:"red"},on:{click:e.onReject}},[e._v("Reject and Close")])],1)],1)],1)],1)},S=[];function T(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){T(r,i,a,o,l,"next",e)}function l(e){T(r,i,a,o,l,"throw",e)}o(void 0)})}}var I={watch:{dialog:function(e){e?this.onOpen():this.onClose()}},components:{},props:[],data:function(){return{dialog:!1,resolve:null,reject:null,accepted:!1}},methods:{onAccept:function(){this.accepted=!0,this.dialog=!1},onReject:function(){this.accepted=!1,this.dialog=!1},open:function(){var e=this;return new Promise(function(t,n){e.resolve=t,e.reject=n,i["default"].nextTick(function(){e.dialog=!0})})},onOpen:function(){var e=C(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.accepted=!1;case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClose:function(){this.resolve(this.accepted)}},computed:{}},A=I,L=(n("4e6a"),Object(g["a"])(A,x,S,!1,null,"18dc5189",null));L.options.__file="PrivacyPolicy.vue";var H=L.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{staticClass:"dialog",attrs:{dark:"","max-width":"450px",persistent:e.loading},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-btn",{staticStyle:{"margin-top":"3em"},attrs:{absolute:"",dark:"",fab:"",top:"",right:"",color:"black lighten-1",title:"Close"},on:{click:function(t){e.dialog=!1}}},[n("v-icon",{staticClass:"fas fa-times-circle"})],1),n("v-card-title",{staticClass:"headline"},[e._v("Preferences")]),n("v-card-text",[n("v-container",{attrs:{fluid:""}},[n("v-layout",[n("v-flex",{attrs:{xs5:""}},[n("v-switch",{attrs:{label:e.dark?"Dark Theme":"Light Theme",color:"black","hide-details":""},model:{value:e.dark,callback:function(t){e.dark=t},expression:"dark"}})],1),n("v-flex",{attrs:{xs7:""}},[n("v-switch",{attrs:{label:e.autoSync?"Auto Sync Default ON":"Auto Sync Default OFF",color:"black","hide-details":""},model:{value:e.autoSync,callback:function(t){e.autoSync=t},expression:"autoSync"}})],1)],1),n("v-layout",[n("v-flex",{attrs:{xs12:""}},[n("v-switch",{attrs:{label:e.showAllLinkLabels?"Shows all labels":"Shows only labels close to selected hub",color:"black","hide-details":""},model:{value:e.showAllLinkLabels,callback:function(t){e.showAllLinkLabels=t},expression:"showAllLinkLabels"}})],1)],1),n("v-layout",[n("v-flex",{attrs:{xs12:""}},[n("v-switch",{attrs:{label:e.kultStyle?"Traditional Kult Intrigue Map":"Icon Intrigue Map",color:"black","hide-details":""},model:{value:e.kultStyle,callback:function(t){e.kultStyle=t},expression:"kultStyle"}})],1)],1)],1)],1)],1)],1)],1)},B=[];function O(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function F(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){O(r,i,a,o,l,"next",e)}function l(e){O(r,i,a,o,l,"throw",e)}o(void 0)})}}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){E(e,t,n[t])})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={watch:{dialog:function(e){e?this.onOpen():this.onClose()},dark:function(e){e?this.$store.commit("preferences/setTheme","dark"):this.$store.commit("preferences/setTheme","light")},autoSync:function(e){this.$store.commit("preferences/setAutoSync",e)},showAllLinkLabels:function(e){this.$store.commit("preferences/setShowAllLinkLabels",e)},kultStyle:function(e){this.$store.commit("preferences/setKultStyle",e)}},computed:_({},Object(u["b"])({hasFiles:"google/hasFiles",isEmpty:"session/isEmpty",isDarkThemeEnabled:"preferences/isDarkThemeEnabled",isDefaultAutoSyncEnabled:"preferences/isDefaultAutoSyncEnabled",isShowAllLinkLabelsEnabled:"preferences/isShowAllLinkLabelsEnabled",isKultStyleEnabled:"preferences/isKultStyleEnabled"})),components:{},props:[],data:function(){return{dialog:!1,resolve:null,reject:null,loading:!1,dark:!0,autoSync:!1,showAllLinkLabels:!1,kultStyle:!1}},methods:{open:function(){var e=this;return new Promise(function(t,n){e.resolve=t,e.reject=n,i["default"].nextTick(function(){e.dialog=!0})})},onOpen:function(){var e=F(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loading=!0,this.dark=this.isDarkThemeEnabled,this.autoSync=this.isDefaultAutoSyncEnabled,this.showAllLinkLabels=this.isShowAllLinkLabelsEnabled,this.kultStyle=this.isKultStyleEnabled;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClose:function(){this.resolve()}}},j=D,M=(n("141d"),Object(g["a"])(j,P,B,!1,null,"534f695e",null));M.options.__file="Preferences.vue";var N=M.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{staticClass:"dialog",attrs:{dark:"","max-width":"550px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-btn",{staticStyle:{"margin-top":"3em"},attrs:{absolute:"",dark:"",fab:"",top:"",right:"",color:"black lighten-1",title:"Close"},on:{click:function(t){e.dialog=!1}}},[n("v-icon",{staticClass:"fas fa-times-circle"})],1),n("v-card-title",{staticClass:"headline"},[e._v("Welcome")]),n("v-card-text",[e._v("\n        Hi, Lookslike you are new to Intrigue Map\n        "),n("br"),n("br"),e._v("\n        This roleplaying tool aims to assist the Dungeon Master with her\n        storytelling and was developed foremost for "),n("a",{staticStyle:{color:"white"},attrs:{target:"_blank",href:"https://kultdivinitylost.com/"}},[e._v("Kult: Divinity Lost")]),e._v("™\n        "),n("br"),n("br"),e._v("\n        It's recommended for beginners to take a look at the Example Kult Map which is by the book\n        and feel free to advice the help dialog which you can find in the menu top right of the screen\n        "),n("br"),n("br"),e._v("\n        This welcome dialog will stop popping up once you sign in to Google Drive\n      ")]),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:e.onBlank}},[e._v("Blank Map")]),n("v-btn",{attrs:{flat:"",color:"green"},on:{click:e.onExample}},[e._v("Example Kult Map")])],1)],1)],1)],1)},R=[];function $(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function G(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){$(r,i,a,o,l,"next",e)}function l(e){$(r,i,a,o,l,"throw",e)}o(void 0)})}}var q={watch:{dialog:function(e){e?this.onOpen():this.onClose()}},components:{},props:[],data:function(){return{dialog:!1,resolve:null,reject:null}},methods:{onAccept:function(){this.dialog=!1},onReject:function(){this.dialog=!1},open:function(){var e=this;return new Promise(function(t,n){e.resolve=t,e.reject=n,i["default"].nextTick(function(){e.dialog=!0})})},onBlank:function(){this.dialog=!1,this.$emit("click:blank")},onExample:function(){this.dialog=!1,this.$emit("click:example")},onOpen:function(){var e=G(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClose:function(){this.resolve()}},computed:{}},K=q,W=(n("4318"),Object(g["a"])(K,z,R,!1,null,"965c8476",null));W.options.__file="Welcome.vue";var U=W.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{staticClass:"dialog",attrs:{dark:"","max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-btn",{staticStyle:{"margin-top":"3em"},attrs:{absolute:"",dark:"",fab:"",top:"",right:"",color:"black lighten-1",title:"Close"},on:{click:function(t){e.dialog=!1}}},[n("v-icon",{staticClass:"fas fa-times-circle"})],1),n("v-card-title",{staticClass:"headline"},[e._v("Help")]),n("v-card-text",[n("v-tabs",{attrs:{centered:"",dark:"","icons-and-text":""}},[n("v-tabs-slider",{attrs:{color:"yellow"}}),n("v-tab",{attrs:{selected:"",href:"#tab-1"}},[n("i",{staticClass:"fas fa-mouse-pointer"}),e._v(" Interaction\n          ")]),n("v-tab",{attrs:{href:"#tab-2"}},[n("i",{staticClass:"fas fa-keyboard"}),e._v(" Shortcuts\n          ")]),n("v-tab",{attrs:{href:"#tab-3"}},[n("i",{staticClass:"fas fa-info-circle"}),e._v(" Guide\n          ")]),n("v-tab-item",{key:1,attrs:{value:"tab-1"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-container",{attrs:{fluid:"","grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"d-flex":"",md6:""}},[n("v-list",{attrs:{"two-line":""}},[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:"/cursor.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Map Cursor")]),n("v-list-tile-sub-title",[e._v("Indicates where map\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("was pressed\n                            ")])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-sub-title",[e._v("These options are displayed with\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("the map cursor\n                            ")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-user",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Contact / PC / Monster / Leader")]),n("v-list-tile-sub-title",[e._v("Opens sub menu")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{staticClass:"speed-dial-icon",staticStyle:{width:"50px"},attrs:{contain:"",src:"/buttons/place.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Place / Location / Building")]),n("v-list-tile-sub-title",[e._v("Opens sub menu")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{staticClass:"speed-dial-icon",staticStyle:{width:"50px"},attrs:{contain:"",src:"/buttons/event.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Event / Dark Secret / Object")]),n("v-list-tile-sub-title",[e._v("Opens sub menu")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-users",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Group / Organization / Influence")]),n("v-list-tile-sub-title",[e._v("Opens sub menu")])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Contact / PC / Monster / Leader")]),n("v-list-tile-sub-title",[e._v("These sub options belongs to\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("Contact / PC / Monster / Leader\n                            ")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-id-card",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Contact")]),n("v-list-tile-sub-title",[e._v("Creates Contact Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-user-circle",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("PC")]),n("v-list-tile-sub-title",[e._v("Creates Player Character Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-pastafarianism",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Monster")]),n("v-list-tile-sub-title",[e._v("Creates Monster Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-hiking",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Leader")]),n("v-list-tile-sub-title",[e._v("Creates Leader Hub")])],1)],1)],1)],1),n("v-flex",{attrs:{"d-flex":"",md6:""}},[n("v-list",{attrs:{"two-line":""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Place / Location / Building")]),n("v-list-tile-sub-title",[e._v("These sub options belongs to\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("Place / Location / Building\n                            ")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{staticClass:"speed-dial-icon",staticStyle:{width:"50px"},attrs:{contain:"",src:"/buttons/place.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Place")]),n("v-list-tile-sub-title",[e._v("Creates Place Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-hotel",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Building")]),n("v-list-tile-sub-title",[e._v("Creates Building Hub")])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Event / Dark Secret / Object")]),n("v-list-tile-sub-title",[e._v("These sub options belongs to\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("Event / Dark Secret / Object\n                            ")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-ghost",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Dark Secret")]),n("v-list-tile-sub-title",[e._v("Creates Dark Secret Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{staticClass:"speed-dial-icon",staticStyle:{width:"50px"},attrs:{contain:"",src:"/buttons/event.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Event")]),n("v-list-tile-sub-title",[e._v("Creates Event Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-guitar",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Object")]),n("v-list-tile-sub-title",[e._v("Creates Object Hub")])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Group / Organization / Influence")]),n("v-list-tile-sub-title",[e._v("These sub options belongs to\n                              "),n("br",{staticClass:"hidden-md-and-up"}),e._v("Group / Organization\n                            ")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{staticClass:"speed-dial-icon",staticStyle:{width:"50px"},attrs:{contain:"",src:"/buttons/group.png"}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Organization")]),n("v-list-tile-sub-title",[e._v("Creates Organization Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-users",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Group")]),n("v-list-tile-sub-title",[e._v("Creates Group Hub")])],1)],1),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",{staticClass:"fas fa-ankh",staticStyle:{color:"red !important"}})],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Influence")]),n("v-list-tile-sub-title",[e._v("Creates Influence Hub")])],1)],1)],1)],1)],1)],1)],1)],1)],1),n("v-tab-item",{key:2,attrs:{value:"tab-2"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._v("Coming soon ...")])],1)],1),n("v-tab-item",{key:3,attrs:{value:"tab-3"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._v("Coming soon ...")])],1)],1)],1)],1)],1)],1)],1)},Q=[];function Y(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function V(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Y(r,i,a,o,l,"next",e)}function l(e){Y(r,i,a,o,l,"throw",e)}o(void 0)})}}var Z={watch:{dialog:function(e){e?this.onOpen():this.onClose()}},components:{},props:[],data:function(){return{dialog:!1,resolve:null,reject:null}},methods:{onAccept:function(){this.dialog=!1},onReject:function(){this.dialog=!1},open:function(){var e=this;return new Promise(function(t,n){e.resolve=t,e.reject=n,i["default"].nextTick(function(){e.dialog=!0})})},onOpen:function(){var e=V(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClose:function(){this.resolve()}},computed:{}},X=Z,ee=(n("3322"),Object(g["a"])(X,J,Q,!1,null,"61c96594",null));ee.options.__file="Help.vue";var te=ee.exports;function ne(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function ie(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){ne(r,i,a,o,l,"next",e)}function l(e){ne(r,i,a,o,l,"throw",e)}o(void 0)})}}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){re(e,t,n[t])})}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function le(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var se={name:"app",components:{SaveLoad:w,PrivacyPolicy:H,Preferences:N,Welcome:U,Help:te},data:function(){return{loading:!0,fullscreen:!1,gconfig:{apiKey:"AIzaSyDboMfF7p2eXT5Jlpv_6ZdjP7VOlOdpwZI",appId:"465407703204",clientId:"465407703204-4uhlqqnlit3rb2akncqfldur2pg0bp2l.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata"].join(" ")}}},computed:ae({},Object(u["b"])({hasFiles:"google/hasFiles",isAutoSyncEnabled:"google/isAutoSyncEnabled",isFileLoaded:"google/isFileLoaded",isInitialized:"google/isInitialized",isSignedIn:"google/isSignedIn",isLoading:"google/isLoading",isEmpty:"session/isEmpty",isDarkThemeEnabled:"preferences/isDarkThemeEnabled"})),methods:{onBlankClick:function(){},onExampleClick:function(){this.$store.dispatch("session/loadExample")},onHelpClick:function(){this.$root.Help.open()},onToggleFullscreen:function(){this.fullscreen=!this.fullscreen,this.fullscreen?oe(document.getElementsByTagName("body")[0]):le()},onPreferencesClick:function(){var e=ie(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$root.Preferences.open();case 2:if(!this.isSignedIn){e.next=5;break}return e.next=5,this.$store.dispatch("google/saveUserData");case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onQuickLoad:function(){var e=ie(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isFileLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.$store.dispatch("google/load",{fileId:this.$store.state.google.loadedFileId});case 5:this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onQuickSave:function(){var e=ie(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isFileLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.$store.dispatch("google/save",{fileId:this.$store.state.google.loadedFileId});case 5:this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onToggleAutoSync:function(){var e=ie(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isFileLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.$store.dispatch("google/toggleAutoSync");case 5:this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onClearClick:function(){confirm("Are you sure you wish to clear the Intrigue Map?")&&this.$store.dispatch("session/clear")},newSession:function(){confirm("Are you sure you wish to create a new session?")&&this.$store.dispatch("google/new")},onSignInClick:function(){var e=ie(c.a.mark(function e(){var t;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$root.PrivacyPolicy.open();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:this.$store.dispatch("google/signIn");case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onSignOutClick:function(){this.$store.dispatch("google/signOut")},onSaveLoadClick:function(){var e=ie(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$root.SaveLoad.open();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=ie(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i["default"].nextTick(function(){t.$root.SaveLoad=t.$refs.SaveLoad,t.$root.PrivacyPolicy=t.$refs.PrivacyPolicy,t.$root.Preferences=t.$refs.Preferences,t.$root.Welcome=t.$refs.Welcome,t.$root.Help=t.$refs.Help}),this.$root.UpdateModifiedOnSession=function(){t.$store.commit("google/setSessionLastModified",new Date)},this.loading=!0,e.next=5,this.$store.dispatch("google/new");case 5:return e.next=7,this.$store.dispatch("google/initialize",this.gconfig);case 7:if(this.$root.activeScene=this.$store.state.session.ids["Scene#MAIN"],this.loading=!1,!this.isSignedIn){e.next=20;break}if(!this.hasAppData){e.next=15;break}return e.next=13,this.$root.Preferences.open();case 13:e.next=18;break;case 15:if(!this.hasFiles||this.isFileLoaded){e.next=18;break}return e.next=18,this.$root.SaveLoad.open();case 18:e.next=21;break;case 20:this.$root.Welcome.open();case 21:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},ce=se,ue=Object(g["a"])(ce,o,l,!1,null,null,null);ue.options.__file="App.vue";var de=ue.exports,fe=n("8c4f");i["default"].use(fe["a"]);var pe=new fe["a"]({routes:[{path:"/test",name:"test",component:function(){return n.e(4).then(n.bind(null,"78c1"))}},{path:"/about",name:"about",component:function(){return n.e(3).then(n.bind(null,"f820"))}},{path:"/*",name:"map",component:function(){return n.e(2).then(n.bind(null,"4bb4"))}}]}),he=n("ce53"),ve=new he["a"]({id:"MAIN"}),be={version:3,ids:{"Scene#MAIN":ve},hubs:[],links:[],scenes:[ve]},ye={isEmpty:function(e){return 0===e.hubs.length}},me=n("5c3d"),ge=n("906b"),ke=n("d54f");function we(e){return we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function xe(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function Se(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){xe(r,i,a,o,l,"next",e)}function l(e){xe(r,i,a,o,l,"throw",e)}o(void 0)})}}var Te={clear:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("clear");case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),hub:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("hub",n);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),scene:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("scene",n);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),link:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("link",n);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteHub:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,t.state,i("deleteHub",n),n.links.slice().forEach(function(e){i("deleteLink",e)});case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteLink:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("deleteLink",n);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteScene:function(){var e=Se(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,t.state,e.next=3,i("deleteScene",n);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadExample:function(){var e=Se(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,t.state,n=t.dispatch,i=t.rootState,e.next=3,n("load",ke);case 3:i.preferences.kultStyle=!0;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),load:function(){var e=Se(c.a.mark(function e(t,n){var i,a,r,o,l,s,u,d,f,p,h,v,b,y,m,g,k,w,x,S,T,C,I,A,L,H,P,B,O;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,a=t.state,r=t.dispatch,o=t.rootState,"object"===we(n)&&"hubs"in n&&"links"in n&&"version"in n){e.next=3;break}return e.abrupt("return",console.error("File doesn't contain Intrigue Map data"));case 3:if(!(a.version<n.version)){e.next=6;break}return self.location.reload(!0),e.abrupt("return");case 6:l=!1;case 7:if(a.version===n.version){e.next=16;break}n.version++,l=!0,e.t0=n.version,e.next=13;break;case 13:return e.abrupt("return",console.error("Session file can't be migrated to current Intrigue Map version"));case 14:e.next=7;break;case 16:s=[],u=!0,d=!1,f=void 0,e.prev=20,p=n.hubs[Symbol.iterator]();case 22:if(u=(h=p.next()).done){e.next=31;break}return v=h.value,v=new me["a"](v),s.push(v.id),e.next=28,r("hub",v);case 28:u=!0,e.next=22;break;case 31:e.next=37;break;case 33:e.prev=33,e.t1=e["catch"](20),d=!0,f=e.t1;case 37:e.prev=37,e.prev=38,u||null==p.return||p.return();case 40:if(e.prev=40,!d){e.next=43;break}throw f;case 43:return e.finish(40);case 44:return e.finish(37);case 45:b=[],y=!0,m=!1,g=void 0,e.prev=49,k=n.links[Symbol.iterator]();case 51:if(y=(w=k.next()).done){e.next=62;break}return x=w.value,x=new ge["a"](x),x.hubA=a.ids[x.hubA],x.hubB=a.ids[x.hubB],b.push(x.id),e.next=59,r("link",x);case 59:y=!0,e.next=51;break;case 62:e.next=68;break;case 64:e.prev=64,e.t2=e["catch"](49),m=!0,g=e.t2;case 68:e.prev=68,e.prev=69,y||null==k.return||k.return();case 71:if(e.prev=71,!m){e.next=74;break}throw g;case 74:return e.finish(71);case 75:return e.finish(68);case 76:S=[],T=!0,C=!1,I=void 0,e.prev=80,A=n.scenes[Symbol.iterator]();case 82:if(T=(L=A.next()).done){e.next=92;break}return H=L.value,H=new he["a"](H),H.hubs.forEach(function(e){e.hub=a.ids["Hub#"+e.hub]}),S.push(H.id),e.next=89,r("scene",H);case 89:T=!0,e.next=82;break;case 92:e.next=98;break;case 94:e.prev=94,e.t3=e["catch"](80),C=!0,I=e.t3;case 98:e.prev=98,e.prev=99,T||null==A.return||A.return();case 101:if(e.prev=101,!C){e.next=104;break}throw I;case 104:return e.finish(101);case 105:return e.finish(98);case 106:if(P=[],a.hubs.forEach(function(e){-1===s.indexOf(e.id)&&P.push(e.key)}),B=[],a.links.forEach(function(e){-1===b.indexOf(e.id)&&B.push(e.key)}),O=[],a.scenes.forEach(function(e){-1===S.indexOf(e.id)&&O.push(e.key)}),P.forEach(function(e){i("deleteHub",a.ids[e])}),B.forEach(function(e){i("deleteLink",a.ids[e])}),O.forEach(function(e){i("deleteScene",a.ids[e])}),!l){e.next=118;break}return e.next=118,r("google/save",{fileId:o.google.loadedFileId},{root:!0});case 118:case"end":return e.stop()}},e,this,[[20,33,37,45],[38,,40,44],[49,64,68,76],[69,,71,75],[80,94,98,106],[99,,101,105]])}));function t(t,n){return e.apply(this,arguments)}return t}()},Ce={clear:function(e){var t=e.ids["Scene#MAIN"];t.Clear(),e.hubs.splice(0,e.hubs.length),e.links.splice(0,e.links.length),e.scenes.splice(0,e.scenes.length),e.ids={"Scene#MAIN":t},e.scenes.push(t),t.time=new Date("2018-11-21T06:45:00Z")},deleteHub:function(e,t){var n="key"in t?t.key:"Hub#"+t.id;n in e.ids&&(t=e.ids[n],e.hubs.splice(e.hubs.indexOf(t),1),delete e.ids[n],e.scenes.forEach(function(e){e.RemoveHub(t)}))},deleteScene:function(e,t){var n="key"in t?t.key:"Scene#"+t.id;n in e.ids&&(e.scenes.splice(e.scenes.indexOf(t),1),delete e.ids[n])},deleteLink:function(e,t){var n="key"in t?t.key:"Link#"+t.id;if(n in e.ids){e.links.splice(e.links.indexOf(t),1),delete e.ids[n];var i=t.hubA.links.indexOf(t),a=t.hubB.links.indexOf(t);-1!==i&&t.hubA.links.splice(i,1),-1!==a&&t.hubB.links.splice(a,1)}},hub:function(e,t){var n="key"in t?t.key:"Hub#"+t.id;n in e.ids?e.ids[n].Copy(t):(e.ids[n]=t,e.hubs.push(t))},scene:function(e,t){var n="key"in t?t.key:"Scene#"+t.id;n in e.ids?e.ids[n].Copy(t):(e.ids[n]=t,e.scenes.push(t))},link:function(e,t){var n="key"in t?t.key:"Link#"+t.id;if(n in e.ids)e.ids[n].Copy(t);else{e.ids[n]=t,e.links.push(t);var i=t.hubA.links.indexOf(t),a=t.hubB.links.indexOf(t);-1===i&&t.hubA.links.push(t),-1===a&&t.hubB.links.push(t)}}},Ie={namespaced:!0,state:be,getters:ye,actions:Te,mutations:Ce},Ae={signedIn:!1,clientInitialized:!1,folderId:null,loadedFileId:null,appDataFileId:null,autoSyncIntervalRef:null,autoSyncInterval:1,autoSyncTimeoutRef:null,autoSyncTimeout:3600,files:[],sessionLastModified:null,appDataLastModified:null,loading:!1},Le={isAutoSyncEnabled:function(e){return null!==e.autoSyncIntervalRef},isFileLoaded:function(e){return null!==e.loadedFileId},isSignedIn:function(e){return e.signedIn},isInitialized:function(e){return e.clientInitialized},isLoading:function(e){return e.loading},hasFiles:function(e){return e.files.length>0},hasAppData:function(e){return null!==e.appDataFileId}},He=[];function Pe(e){if(-1===He.indexOf(e)){He.push(e);var t=document.createElement("script");t.setAttribute("src",e),document.head.appendChild(t)}}function Be(e){return Be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Oe(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Oe(r,i,a,o,l,"next",e)}function l(e){Oe(r,i,a,o,l,"throw",e)}o(void 0)})}}var _e=[],Ee={};function De(){return!0===_e?new Promise(function(e){return setTimeout(e,1e5)}):new Promise(function(e){return _e.push(e)})}function je(e){return new Promise(function(){var t=Fe(c.a.mark(function t(n,i){return c.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,De();case 2:if(e in Ee){t.next=7;break}return Ee[e]=new Array,Ee[e].push({resolve:n,reject:i}),gapi.load(e,function(){Ee[e].forEach(function(e){return e.resolve()}),Ee[e]=!0}),t.abrupt("return");case 7:if("object"===Be(Ee[e])&&Ee[e]instanceof Array){t.next=9;break}return t.abrupt("return",n(Ee[e]));case 9:Ee[e].push({resolve:n,reject:i});case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}())}function Me(e){return Me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ne(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function ze(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Ne(r,i,a,o,l,"next",e)}function l(e){Ne(r,i,a,o,l,"throw",e)}o(void 0)})}}window.onGoogleAPILoaded=Fe(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return delete window["onGoogleAPILoaded"],e.next=3,new Promise(function(e){return setTimeout(e,100)});case 3:_e.forEach(function(e){return e()}),_e=!0;case 5:case"end":return e.stop()}},e,this)})),"undefined"===typeof gapi&&Pe("https://apis.google.com/js/api.js?onload=onGoogleAPILoaded");var Re="Saved Intrigue Map Sessions";(function(e){if("replaceState"in history)e.replaceHash=function(e){"#"!==(""+e).charAt(0)&&(e="#"+e),history.replaceState("","",e)};else{var t=location.hash;e.replaceHash=function(e){location.hash!==t&&history.back(),location.hash=e}}})(window);var $e={initialize:function(){var e=ze(c.a.mark(function e(t,n){var i,a,r,o,l,s,u,d,f,p,h,v,b,y,m;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,a=t.state,r=t.dispatch,o=n.apiKey,l=n.clientId,s=n.discoveryDocs,u=n.scope,a.clientInitialized){e.next=50;break}return i("setClientInitialized",!0),e.next=6,je("client:auth2");case 6:return e.next=8,gapi.client.init({apiKey:o,clientId:l,discoveryDocs:s,scope:u});case 8:if(gapi.auth2.getAuthInstance().isSignedIn.listen(function(){var e=ze(c.a.mark(function e(t){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i("setSignedIn",t),!a.isSignedIn){e.next=6;break}return e.next=4,r("loadUserData");case 4:return e.next=6,r("loadFileListIntoState");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),i("setSignedIn",gapi.auth2.getAuthInstance().isSignedIn.get()),!a.signedIn){e.next=50;break}return e.next=13,r("loadUserData");case 13:return e.next=15,r("loadFileListIntoState");case 15:if(d=window.location.hash.substr(2).trim(" "),""===d){e.next=50;break}f=!1,p=!0,h=!1,v=void 0,e.prev=21,b=a.files[Symbol.iterator]();case 23:if(p=(y=b.next()).done){e.next=31;break}if(m=y.value,m.id!==d){e.next=28;break}return f=!0,e.abrupt("break",31);case 28:p=!0,e.next=23;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e["catch"](21),h=!0,v=e.t0;case 37:e.prev=37,e.prev=38,p||null==b.return||b.return();case 40:if(e.prev=40,!h){e.next=43;break}throw v;case 43:return e.finish(40);case 44:return e.finish(37);case 45:if(f){e.next=48;break}return replaceHash("/"),e.abrupt("return");case 48:return e.next=50,r("load",{fileId:d});case 50:case"end":return e.stop()}},e,this,[[21,33,37,45],[38,,40,44]])}));function t(t,n){return e.apply(this,arguments)}return t}(),new:function(){var e=ze(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dispatch,i=t.commit,t.rootState,i("setLoadedFileId",null),e.next=4,n("session/clear",null,{root:!0});case 4:replaceHash("/");case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),signIn:function(){var e=ze(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!0!==i.signedIn){e.next=5;break}return e.abrupt("return",console.error("Already signed in"));case 5:return n("setLoading",!0),e.next=8,gapi.auth2.getAuthInstance().signIn();case 8:n("setLoading",!1);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),signOut:function(){var e=ze(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return",console.error("Already signed out"));case 5:return n("setLoading",!0),e.next=8,gapi.auth2.getAuthInstance().signOut();case 8:n("setLoading",!1);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),toggleAutoSync:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,a=t.dispatch,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return",console.error("You need to be signed in to use this feature"));case 5:if(null!==i.loadedFileId){e.next=7;break}return e.abrupt("return",console.error("You need to first save the session or load a already saved session"));case 7:if(n("setSessionLastModified",null),null===i.autoSyncIntervalRef){e.next=12;break}return null!==i.autoSyncTimeoutRef&&(clearTimeout(i.autoSyncTimeoutRef),n("setAutoSyncTimeout",null)),n("setAutoSync",null),e.abrupt("return");case 12:n("setAutoSyncInterval",1),r=function(){var e=ze(c.a.mark(function e(){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;case 1:if(r!==i.autoSyncIntervalRef){e.next=11;break}if(i.signedIn&&null!==i.loadedFileId){e.next=4;break}throw new Error;case 4:return null===i.autoSyncTimeoutRef&&n("setAutoSyncTimeout",setTimeout(function(){null!==i.autoSyncTimeoutRef&&(n("setAutoSyncTimeout",null),n("setAutoSync",null))},1e3*i.autoSyncTimeout)),e.next=7,a("sync");case 7:return e.next=9,new Promise(function(e){return setTimeout(e,1e3*i.autoSyncInterval)});case 9:e.next=1;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),null!==i.autoSyncTimeoutRef&&(clearTimeout(i.autoSyncTimeoutRef),n("setAutoSyncTimeout",null)),n("setAutoSync",null);case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),n("setAutoSync",r),r();case 16:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),sync:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r,o;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,a=t.dispatch,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return",console.error("You need to be signed in to use this feature"));case 5:if(null!==i.loadedFileId){e.next=7;break}return e.abrupt("return",console.error("You need to first save the session or load a already saved session"));case 7:if(!(null!==i.sessionLastModified&&(new Date).getTime()-i.sessionLastModified.getTime()<i.autoSyncInterval)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,gapi.client.drive.files.list({q:"mimeType = 'application/json' and trashed = false and '"+i.folderId+"' in parents",fields:"files(id, name, modifiedTime)"});case 11:if(r=e.sent,o=null,r.result.files.forEach(function(e){e.id===i.loadedFileId&&(o=e)}),null!==o){e.next=18;break}return n("setSessionLastModified",null),n("setLoadedFileId",null),e.abrupt("return");case 18:if(o.modifiedTime=new Date(o.modifiedTime),null!==i.sessionLastModified){e.next=25;break}null!==i.autoSyncTimeoutRef&&(clearTimeout(i.autoSyncTimeoutRef),n("setAutoSyncTimeout",null)),n("setAutoSyncInterval",1),n("setSessionLastModified",o.modifiedTime),e.next=42;break;case 25:if(!(i.sessionLastModified.getTime()<o.modifiedTime.getTime())){e.next=33;break}return null!==i.autoSyncTimeoutRef&&(clearTimeout(i.autoSyncTimeoutRef),n("setAutoSyncTimeout",null)),n("setAutoSyncInterval",1),n("setSessionLastModified",null),e.next=31,a("load",{fileId:i.loadedFileId});case 31:e.next=42;break;case 33:if(!(i.sessionLastModified.getTime()>o.modifiedTime.getTime())){e.next=41;break}return null!==i.autoSyncTimeoutRef&&(clearTimeout(i.autoSyncTimeoutRef),n("setAutoSyncTimeout",null)),n("setAutoSyncInterval",1),n("setSessionLastModified",null),e.next=39,a("save",{fileId:i.loadedFileId});case 39:e.next=42;break;case 41:i.autoSyncInterval<15&&n("setAutoSyncInterval",i.autoSyncInterval+1);case 42:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),saveUserData:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r,o,l,s,u,d;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,t.dispatch,a=t.rootState,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return");case 5:if(null!==i.appDataFileId){e.next=19;break}return r=JSON.stringify(a.preferences),o=new Blob([r],{type:"text/plain"}),l={name:"preferences.imap",mimeType:"application/json",parents:["appDataFolder"]},s=gapi.auth.getToken().access_token,u=new FormData,u.append("metadata",new Blob([JSON.stringify(l)],{type:"application/json"})),u.append("file",o),n("setLoading",!0),e.next=16,new Promise(function(e,t){var n=new XMLHttpRequest;n.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),n.setRequestHeader("Authorization","Bearer "+s),n.responseType="json",n.onload=function(){e(n.response.id)},n.send(u)});case 16:d=e.sent,n("setLoading",!1),n("setAppDataFileId",d);case 19:return n("setLoading",!0),e.next=22,gapi.client.request({path:"/upload/drive/v3/files/"+i.appDataFileId,method:"PATCH",params:{uploadType:"media"},body:JSON.stringify(a.preferences)});case 22:n("setLoading",!1);case 23:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),deleteUserData:function(){var e=ze(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return");case 5:if(null!==i.appDataFileId){e.next=7;break}return e.abrupt("return");case 7:return n("setLoading",!0),e.next=10,gapi.client.drive.files.delete({fileId:i.appDataFileId});case 10:n("setLoading",!1),n("setAppDataFileId",null);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadUserData:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r,o,l,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,a=t.dispatch,t.rootState,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return");case 5:if(null!==i.appDataFileId){e.next=16;break}return n("setLoading",!0),e.next=9,gapi.client.drive.files.list({spaces:"appDataFolder",q:"mimeType = 'application/json' and name='preferences.imap' and trashed = false",fields:"files(id, name, modifiedTime)"});case 9:r=e.sent,n("setLoading",!1),o=null,l=null,r.result.files.forEach(function(e){"preferences.imap"===e.name&&(o=e.id,l=e.modifiedTime)}),n("setAppDataFileId",o),n("setAppDataLastModified",l);case 16:if(null!==i.appDataFileId){e.next=18;break}return e.abrupt("return");case 18:return n("setLoading",!0),e.next=21,gapi.client.drive.files.get({fileId:i.appDataFileId,alt:"media"});case 21:return s=e.sent,n("setLoading",!1),"object"===Me(s)&&null!==s&&"result"in s&&"object"===Me(s.result)&&null!==s.result||console.error("Unable to load file"),e.next=26,a("preferences/load",s.result,{root:!0});case 26:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadFileListIntoState:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r,o,l,s;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,t.dispatch,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return");case 5:return n("setLoading",!0),e.next=8,gapi.client.drive.files.list({pageSize:1e3,q:"mimeType = 'application/vnd.google-apps.folder' and trashed = false",fields:"nextPageToken, files(id, name)"});case 8:if(a=e.sent,n("setLoading",!1),r=null,a.result.files.forEach(function(e){e.name===Re&&(r=e.id)}),n("setFolderId",r),null===i.folderId){e.next=23;break}return n("setLoading",!0),e.next=17,gapi.client.drive.files.list({q:"mimeType = 'application/json' and trashed = false and '"+i.folderId+"' in parents",fields:"files(id, name, modifiedTime)"});case 17:for(o=e.sent,l=0;l<o.result.files.length;l++)s=o.result.files[l],s.name=s.name.substr(0,s.name.length-".imap".length),s.modifiedTime=new Date(s.modifiedTime),s.id===i.loadedFileId&&n("setSessionLastModified",s.modifiedTime);n("setLoading",!1),n("setFileList",o.result.files),e.next=24;break;case 23:n("clearFileList");case 24:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createSessionFolder:function(){var e=ze(c.a.mark(function e(t){var n,i,a,r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,i=t.state,i.clientInitialized){e.next=3;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 3:if(!1!==i.signedIn){e.next=5;break}return e.abrupt("return",null);case 5:return a={name:Re,mimeType:"application/vnd.google-apps.folder"},n("setLoading",!0),e.next=9,gapi.client.drive.files.create({resource:a,fields:"id"});case 9:r=e.sent,n("setLoading",!1),n("setFolderId",r.result.id);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),delete:function(){var e=ze(c.a.mark(function e(t,n){var i,a,r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,a=t.state,t.dispatch,r=n.fileId,a.clientInitialized){e.next=4;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 4:if(!1!==a.signedIn){e.next=6;break}return e.abrupt("return",!1);case 6:return a.loadedFileId===r&&i("setLoadedFileId",null),i("setLoading",!0),e.next=10,gapi.client.drive.files.delete({fileId:r});case 10:i("setLoading",!1);case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),load:function(){var e=ze(c.a.mark(function e(t,n){var i,a,r,o,l,s,u;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,a=t.state,r=t.dispatch,o=t.rootState,l=n.fileId,a.clientInitialized){e.next=4;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 4:if(!1!==a.signedIn){e.next=6;break}return e.abrupt("return");case 6:if(s=null!==a.autoSyncIntervalRef,!s){e.next=10;break}return e.next=10,r("toggleAutoSync");case 10:return i("setLoading",!0),e.next=13,gapi.client.drive.files.get({fileId:l,alt:"media"});case 13:return u=e.sent,"object"===Me(u)&&null!==u&&"result"in u&&"object"===Me(u.result)&&null!==u.result||console.error("Unable to load file"),i("setLoadedFileId",l),replaceHash("/"+l),e.next=19,r("session/load",u.result,{root:!0});case 19:if(!s&&!o.preferences.autoSync){e.next=22;break}return e.next=22,r("toggleAutoSync");case 22:i("setLoading",!1);case 23:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),save:function(){var e=ze(c.a.mark(function e(t,n){var i,a,r,o,l,s,u,d,f,p,h,v,b;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.commit,a=t.state,r=t.rootState,o=t.dispatch,l=n.fileId,s=n.sessionName,a.clientInitialized){e.next=4;break}return e.abrupt("return",console.error("Module not initialized (dispatch initialize first with config)"));case 4:if(!1!==a.signedIn){e.next=6;break}return e.abrupt("return");case 6:if(null!==a.folderId){e.next=9;break}return e.next=9,o("createSessionFolder");case 9:if(u=null!==a.autoSyncIntervalRef,!u){e.next=13;break}return e.next=13,o("toggleAutoSync");case 13:if(d={version:r.session.version,hubs:[],links:[],scenes:[]},r.session.hubs.forEach(function(e){d.hubs.push(e.Serialize())}),r.session.links.forEach(function(e){d.links.push(e.Serialize())}),r.session.scenes.forEach(function(e){d.scenes.push(e.Serialize())}),"undefined"===typeof l&&(l=null),null!==l){e.next=41;break}if("string"===typeof s&&""!==s.trim()){e.next=21;break}return e.abrupt("return");case 21:return f=JSON.stringify(d),p=new Blob([f],{type:"text/plain"}),h={name:s+".imap",mimeType:"application/json",parents:[a.folderId]},v=gapi.auth.getToken().access_token,b=new FormData,b.append("metadata",new Blob([JSON.stringify(h)],{type:"application/json"})),b.append("file",p),i("setLoading",!0),e.next=31,new Promise(function(e,t){var n=new XMLHttpRequest;n.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),n.setRequestHeader("Authorization","Bearer "+v),n.responseType="json",n.onload=function(){e(n.response.id)},n.send(b)});case 31:return l=e.sent,i("setLoadedFileId",l),replaceHash("/"+l),e.next=36,o("loadFileListIntoState");case 36:if(!u&&!r.preferences.autoSync){e.next=39;break}return e.next=39,o("toggleAutoSync");case 39:return i("setLoading",!1),e.abrupt("return");case 41:return i("setLoadedFileId",l),replaceHash("/"+l),i("setLoading",!0),e.next=46,gapi.client.request({path:"/upload/drive/v3/files/"+l,method:"PATCH",params:{uploadType:"media"},body:d});case 46:return e.next=48,o("loadFileListIntoState");case 48:if(!u&&!r.preferences.autoSync){e.next=51;break}return e.next=51,o("toggleAutoSync");case 51:i("setLoading",!1);case 52:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},Ge={setSignedIn:function(e,t){e.signedIn=t},setClientInitialized:function(e,t){e.clientInitialized=t},setFolderId:function(e,t){e.folderId=t},setAppDataFileId:function(e,t){e.appDataFileId=t},setLoadedFileId:function(e,t){e.loadedFileId=t},setSessionLastModified:function(e,t){"string"===typeof t&&(t=new Date(t)),e.sessionLastModified=t},setAppDataLastModified:function(e,t){"string"===typeof t&&(t=new Date(t)),e.appDataLastModified=t},clearFileList:function(e){e.files.splice(0,e.files.length)},setFileList:function(e,t){e.files.splice(0,e.files.length),t.forEach(function(t){e.files.push(t)})},setAutoSync:function(e,t){e.autoSyncIntervalRef=t},setAutoSyncTimeout:function(e,t){e.autoSyncTimeoutRef=t},setAutoSyncInterval:function(e,t){e.autoSyncInterval=t},setLoading:function(e,t){e.loading=t}},qe={namespaced:!0,state:Ae,getters:Le,actions:$e,mutations:Ge},Ke={theme:"dark",autoSync:!1,showAllLinkLabels:!1,kultStyle:!1},We={isDarkThemeEnabled:function(e){return"dark"===e.theme},isDefaultAutoSyncEnabled:function(e){return e.autoSync},isShowAllLinkLabelsEnabled:function(e){return e.showAllLinkLabels},isKultStyleEnabled:function(e){return e.kultStyle}};function Ue(e,t,n,i,a,r,o){try{var l=e[r](o),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(i,a)}function Je(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Ue(r,i,a,o,l,"next",e)}function l(e){Ue(r,i,a,o,l,"throw",e)}o(void 0)})}}var Qe={load:function(){var e=Je(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,i("set",n);case 2:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},Ye={setTheme:function(e,t){e.theme=t},setAutoSync:function(e,t){e.autoSync=t},setShowAllLinkLabels:function(e,t){e.showAllLinkLabels=t},setKultStyle:function(e,t){e.kultStyle=t},set:function(e,t){for(var n in t)n in e&&(e[n]=t[n])}},Ve={namespaced:!0,state:Ke,getters:We,actions:Qe,mutations:Ye};i["default"].use(u["a"]);var Ze=!1,Xe=new u["a"].Store({modules:{session:Ie,google:qe,preferences:Ve},strict:Ze}),et=n("458e"),tt=(n("d5e8"),n("15f5"),n("6cc5"),n("0284")),nt=n.n(tt),it=n("415c"),at=n.n(it),rt=n("2ead"),ot=n.n(rt);i["default"].use(n("3717")),delete et["L"].Icon.Default.prototype._getIconUrl,et["L"].Icon.Default.mergeOptions({}),i["default"].config.productionTip=!1,new i["default"]({router:pe,store:Xe,render:function(e){return e(de)}}).$mount("#app"),i["default"].use(nt.a,{id:"UA-52309409-4",router:pe}),i["default"].use(at.a),i["default"].use(ot.a)},"5c3d":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p});var i=n("509e"),a=n("fcab"),r=n("e1c1"),o=n("4386"),l=n("3978");function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}var f=Object(i["a"])(l),p=(Object.keys(f),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(this,e),this.id=Object(r["a"])(),this.links=[],this.avatar=new o["a"],this.hubType="PC",this.name="",this.useAvatar=!1,this.influence=null,this.created=null,this.expired=null,this.Copy(t,n)}return d(e,[{key:"Serialize",value:function(){return{id:this.id,avatar:this.avatar.Serialize(),useAvatar:this.useAvatar,name:this.name,hubType:this.hubType,influence:this.influence,created:null===this.created?null:this.created.getTime(),expired:null===this.expired?null:this.expired.getTime()}}},{key:"ofType",value:function(e){return e===this.hubType.substr(0,e.length)}},{key:"isRelevant",value:function(e){return!(null!==this.created&&this.created.getTime()>e.getTime())&&!(null!==this.expired&&this.expired.getTime()<e.getTime())}},{key:"Copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"undefined"===typeof e||null===e?this:(Object(a["a"])(this,e,["hubType","influence"]),"avatar"in e&&this.avatar.Copy(e.avatar,t),t?this:("created"in e&&("object"!==s(e.created)&&(e.created=new Date(e.created)),this.created=e.created),"expired"in e&&("object"!==s(e.expired)&&(e.expired=new Date(e.expired)),this.expired=e.expired),Object(a["a"])(this,e,["id","name","useAvatar"]),this))}},{key:"key",get:function(){return"Hub#"+this.id}},{key:"displayName",get:function(){if(this.ofType("Influence")){var e=this.influence.split(".");return e[1]}return 0===this.name.length?"New":this.name}},{key:"type",get:function(){return"session/hub"}},{key:"baseType",get:function(){return this.hubType.split(".")[0]}},{key:"subType",get:function(){var e=this.hubType.split(".");return e[e.length-1]}},{key:"url",get:function(){return this.ofType("Influence")?"/influences/"+this.influence.toLowerCase().replace(/ /g,"_").replace(/\./g,"/")+".png":this.ofType("PC")?this.avatar.url:"/iconsets/default/"+this.hubType.replace(/\./g,"/").replace(/ /g,"_").toLowerCase()+".png"}}]),e}())},"6c81":function(e,t,n){},"906b":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});n("509e");var i=n("fcab"),a=n("e1c1"),r=n("9226");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function e(t,n,i,a,r,o){l(this,e),this.name=t,this.AtoB=n,this.BtoA=i,this.valid=a,this.color=r,this.linkThickness=o}return c(e,[{key:"HubText",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;n<this.valid.length;n++){var i=this.valid[n];if(t){if(e.ofType(i[1]))return this.BtoA;if(e.ofType(i[0]))return this.AtoB}else{if(e.ofType(i[0]))return this.AtoB;if(e.ofType(i[1]))return this.BtoA}}return""}}]),e}(),d=f(r);function f(e){var t={};return e.forEach(function(e){if(0==e.length)throw new Error("Empty LinkType JSON content");t[e[0]]=new u(e[0],e[1],e[2],e[3],e[4],e[5])}),t}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l(this,e),this.id=Object(a["a"])(),this.hubA=null,this.hubB=null,this.AtoB="",this.BtoA="",this.linkType="Input",this.color="black",this.linkThickness=1,this.created=null,this.expired=null,this.Copy(t,n)}return c(e,[{key:"Serialize",value:function(){return{id:this.id,hubA:this.hubA.key,hubB:this.hubB.key,AtoB:this.AtoB,BtoA:this.BtoA,linkType:this.linkType,color:this.color,linkThickness:this.linkThickness,created:null===this.created?null:this.created.getTime(),expired:null===this.expired?null:this.expired.getTime()}}},{key:"ofType",value:function(e){return e===this.linkType}},{key:"Copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"undefined"===typeof e||null===e?this:(Object(i["a"])(this,e,["linkType","hubA","hubB","AtoB","BtoA","color","linkThickness"]),t?this:("created"in e&&("object"!==o(e.created)&&(e.created=new Date(e.created)),this.created=e.created),"expired"in e&&("object"!==o(e.expired)&&(e.expired=new Date(e.expired)),this.expired=e.expired),Object(i["a"])(this,e,["id"]),this))}},{key:"ApplyLinkType",value:function(e){this.linkType=e.name,this.AtoB=e.HubText(this.hubA),this.BtoA=e.HubText(this.hubB,!0),this.color=e.color,this.linkThickness=e.linkThickness}},{key:"validLinkTypeNames",get:function(){if(null===this.hubA||null===this.hubB)return[];var e=[];for(var t in d){for(var n=d[t],i=!1,a=0;a<n.valid.length;a++){var r=n.valid[a];if(this.hubA.ofType(r[0])&&this.hubB.ofType(r[1])||this.hubB.ofType(r[0])&&this.hubA.ofType(r[1])){i=!0;break}}i&&e.push(n.name)}return e}},{key:"key",get:function(){return"Link#"+this.id}},{key:"name",get:function(){return this.id}},{key:"type",get:function(){return"session/link"}},{key:"subType",get:function(){var e=this.linkType.split(".");return e[e.length-1]}}]),e}()},9226:function(e){e.exports=[["Input","","",[["",""]],"#000000",1],["Acquaintance","acquaintance with","acquaintance with",[["PC","PC"]],"#000000",1],["Friends","friends with","friends with",[["PC","PC"]],"#007700",1],["Killed","killed","was killed by",[["PC","PC"]],"#770000",3]]},ce53:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("fcab"),a=n("e1c1");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(this,e),this.id=Object(a["a"])(),this.hubs=[],this.time=new Date("2018-11-21T06:45:00Z"),this.created=null,this.expired=null,this.Copy(t)}return s(e,[{key:"Serialize",value:function(){var e=[];return this.hubs.forEach(function(t){e.push({hub:t.hub.id,latlng:{lat:t.latlng.lat,lng:t.latlng.lng}})}),{id:this.id,hubs:e,time:null===this.time?null:this.time.getTime(),created:null===this.created?null:this.created.getTime(),expired:null===this.expired?null:this.expired.getTime()}}},{key:"Clear",value:function(){this.hubs.splice(0,this.hubs.length)}},{key:"AddHub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!1;this.hubs.forEach(function(a){a.hub===e&&(i=!0,a.latlng.lat=t,a.latlng.lng=n)}),i||this.hubs.push({hub:e,latlng:{lat:t,lng:n}})}},{key:"RemoveHub",value:function(e){for(var t=0;t<this.hubs.length;t++){var n=this.hubs[t].hub;if(e===n){this.hubs.splice(t,1);break}}}},{key:"Copy",value:function(e){var t=this;if("undefined"===typeof e||null===e)return this;"hubs"in e&&(this.hubs.splice(0,this.hubs.length),e.hubs.forEach(function(e){t.AddHub(e.hub,e.latlng.lat,e.latlng.lng)})),"latlng"in e&&(this.latlng.lat=e.latlng.lat,this.latlng.lng=e.latlng.lng),Object(i["a"])(this,e,["id"]),"time"in e&&("object"!==r(e.time)&&(e.time=new Date(e.time)),this.time=e.time),"created"in e&&("object"!==r(e.created)&&(e.created=new Date(e.created)),this.created=e.created),"expired"in e&&("object"!==r(e.expired)&&(e.expired=new Date(e.expired)),this.expired=e.expired)}},{key:"key",get:function(){return"Scene#"+this.id}},{key:"name",get:function(){return this.id}},{key:"type",get:function(){return"session/scene"}}]),e}()},d120:function(e,t,n){},d54f:function(e){e.exports={version:3,hubs:[{id:"65c1d979-584f-3390-0adf-6d85c0927229",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!0,name:"The Avenger",hubType:"PC",created:15427827e5,expired:null},{id:"1676bf73-dd31-9175-9c76-a77931945517",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!0,name:"The Seeker",hubType:"PC",created:15427827e5,expired:null},{id:"2948d3d8-ba2d-5521-af37-f8ff1a2d08a1",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!0,name:"The Artist",hubType:"PC",created:15427827e5,expired:null},{id:"ed8b072c-825c-2029-cb7d-e6d91dd95078",avatar:{avatarStyle:"Circle",topType:"LongHairStraight2",accessoriesType:null,clotheType:"CollarSweater",graphicType:null,clotheColor:"Black",eyeType:"Side",eyebrowType:"AngryNatural",facialHairColor:"Platinum",facialHairType:"BeardLight",hairColor:null,hatColor:null,mouthType:null,skinColor:"Pale"},useAvatar:!0,name:"The Detective",hubType:"PC",created:15427827e5,expired:null},{id:"bda83789-c42b-acd5-4535-5ef87b614928",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Captain Ramirez",hubType:"Leader",created:15427827e5,expired:null},{id:"371f62cf-cd6e-0391-7ff9-1310e7e4c81d",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Dr Masrov",hubType:"Monster",created:15427827e5,expired:null},{id:"0b9b66e4-4520-8e41-e874-8cf5b8b798bf",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Medical Experiment",hubType:"Event.Dark Secret",created:15427827e5,expired:null},{id:"9b2bd900-e4b1-9e66-b06a-99d200efbd61",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Occult Experience",hubType:"Event.Dark Secret",created:15427827e5,expired:null},{id:"a5e0a787-a760-936d-a29c-3cedfd9d9090",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Sister",hubType:"Contact",created:15427827e5,expired:null},{id:"7ce4484a-3a99-c35b-c265-d68972a95856",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"The House on 33rd Lewis St.",hubType:"Place.Building",created:15427827e5,expired:null},{id:"0f977fec-d005-2576-85f3-03ff6152fd4d",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Entity",hubType:"Monster",created:15427827e5,expired:null},{id:"de9c2992-fd1d-f37a-25d1-da14b325a99e",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Pact with Dark Forces",hubType:"Event.Dark Secret",created:15427827e5,expired:null},{id:"e62e64ba-8ae5-46cb-bdc5-87104a395afd",avatar:{avatarStyle:"Circle",topType:"NoHair",accessoriesType:null,clotheType:null,graphicType:null,clotheColor:null,eyeType:null,eyebrowType:null,facialHairColor:null,facialHairType:null,hairColor:null,hatColor:null,mouthType:null,skinColor:null},useAvatar:!1,name:"Forbidden Knowledge",hubType:"Event.Dark Secret",created:15427827e5,expired:null}],links:[{id:"d358fb71-09ca-9344-d8f3-8a7d2050df6f",hubA:"Hub#65c1d979-584f-3390-0adf-6d85c0927229",hubB:"Hub#1676bf73-dd31-9175-9c76-a77931945517",AtoB:"gets help from",BtoA:"looks up to and helps",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"299e5c63-66cc-0eac-61fb-922660defb7a",hubA:"Hub#65c1d979-584f-3390-0adf-6d85c0927229",hubB:"Hub#bda83789-c42b-acd5-4535-5ef87b614928",AtoB:"wanted by",BtoA:"wanted",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"32707df8-ef27-107e-1eb3-7ea939482251",hubA:"Hub#65c1d979-584f-3390-0adf-6d85c0927229",hubB:"Hub#ed8b072c-825c-2029-cb7d-e6d91dd95078",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"dd3746db-185b-f71a-b3ce-f38a21b82506",hubA:"Hub#1676bf73-dd31-9175-9c76-a77931945517",hubB:"Hub#2948d3d8-ba2d-5521-af37-f8ff1a2d08a1",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"293c841b-eb90-7b93-bdeb-c25f25a3f473",hubA:"Hub#ed8b072c-825c-2029-cb7d-e6d91dd95078",hubB:"Hub#2948d3d8-ba2d-5521-af37-f8ff1a2d08a1",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"9c2d841a-8164-e0ea-b585-c9035823cde9",hubA:"Hub#65c1d979-584f-3390-0adf-6d85c0927229",hubB:"Hub#0b9b66e4-4520-8e41-e874-8cf5b8b798bf",AtoB:"victim",BtoA:"Military 1991-97",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"e12ed6a4-f4ee-5547-9092-113e53265615",hubA:"Hub#0b9b66e4-4520-8e41-e874-8cf5b8b798bf",hubB:"Hub#371f62cf-cd6e-0391-7ff9-1310e7e4c81d",AtoB:"was performed by",BtoA:"performed",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"d8bacb8f-a614-fcb6-591f-476fd0d89af2",hubA:"Hub#0b9b66e4-4520-8e41-e874-8cf5b8b798bf",hubB:"Hub#bda83789-c42b-acd5-4535-5ef87b614928",AtoB:"was escaped by",BtoA:"escaped",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"f057bd51-d776-3722-e614-e6e600f37b52",hubA:"Hub#1676bf73-dd31-9175-9c76-a77931945517",hubB:"Hub#9b2bd900-e4b1-9e66-b06a-99d200efbd61",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"fa4e87f5-d002-0ff6-f9f6-3b478703bf18",hubA:"Hub#a5e0a787-a760-936d-a29c-3cedfd9d9090",hubB:"Hub#9b2bd900-e4b1-9e66-b06a-99d200efbd61",AtoB:"participated",BtoA:"was participated by",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"76cf75ee-08f5-9c3b-1641-243fd78a57ae",hubA:"Hub#9b2bd900-e4b1-9e66-b06a-99d200efbd61",hubB:"Hub#7ce4484a-3a99-c35b-c265-d68972a95856",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"ff28f97b-85fd-f8a2-93b3-e52778fc84a2",hubA:"Hub#0f977fec-d005-2576-85f3-03ff6152fd4d",hubB:"Hub#7ce4484a-3a99-c35b-c265-d68972a95856",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"dd5af18b-1ae4-0401-69cd-b3b5c67200b9",hubA:"Hub#0f977fec-d005-2576-85f3-03ff6152fd4d",hubB:"Hub#1676bf73-dd31-9175-9c76-a77931945517",AtoB:"haunted",BtoA:"haunted by",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"328a8175-dabb-3ab6-9bc4-60a330e75398",hubA:"Hub#de9c2992-fd1d-f37a-25d1-da14b325a99e",hubB:"Hub#2948d3d8-ba2d-5521-af37-f8ff1a2d08a1",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null},{id:"a794a5d5-d797-0944-81f7-0a1b51707fbe",hubA:"Hub#e62e64ba-8ae5-46cb-bdc5-87104a395afd",hubB:"Hub#ed8b072c-825c-2029-cb7d-e6d91dd95078",AtoB:"",BtoA:"",linkType:"Input",color:"#000000",linkThickness:1,created:15427827e5,expired:null}],scenes:[{id:"MAIN",hubs:[{hub:"65c1d979-584f-3390-0adf-6d85c0927229",latlng:{lat:-37720692489234735e-21,lng:-.00016702692221315377}},{hub:"1676bf73-dd31-9175-9c76-a77931945517",latlng:{lat:-42915344236620943e-21,lng:.0001502037048339844}},{hub:"2948d3d8-ba2d-5521-af37-f8ff1a2d08a1",latlng:{lat:-.00025346875189992787,lng:.00014215707778930667}},{hub:"ed8b072c-825c-2029-cb7d-e6d91dd95078",latlng:{lat:-.00024898705304821637,lng:-.00017033724702741893}},{hub:"bda83789-c42b-acd5-4535-5ef87b614928",latlng:{lat:.00017970800399880158,lng:-.0002239644527435303}},{hub:"371f62cf-cd6e-0391-7ff9-1310e7e4c81d",latlng:{lat:.00035673379898440465,lng:-.00031784176826477056}},{hub:"0b9b66e4-4520-8e41-e874-8cf5b8b798bf",latlng:{lat:.00023335218430093886,lng:-.0005592405796051026}},{hub:"9b2bd900-e4b1-9e66-b06a-99d200efbd61",latlng:{lat:.0001260638236966643,lng:.00022798776626586917}},{hub:"a5e0a787-a760-936d-a29c-3cedfd9d9090",latlng:{lat:.00021860003471562472,lng:.0004613399505615235}},{hub:"7ce4484a-3a99-c35b-c265-d68972a95856",latlng:{lat:48279762263018e-18,lng:.0004224479198455811}},{hub:"0f977fec-d005-2576-85f3-03ff6152fd4d",latlng:{lat:-7912516594024555e-20,lng:.00042781233787536627}},{hub:"de9c2992-fd1d-f37a-25d1-da14b325a99e",latlng:{lat:-.0003862380981423107,lng:.0002789497375488282}},{hub:"e62e64ba-8ae5-46cb-bdc5-87104a395afd",latlng:{lat:-.0003889203071555092,lng:-.0004586577415466309}}],time:15427827e5,created:null,expired:null}]}},e1c1:function(e,t,n){"use strict";function i(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}n.d(t,"a",function(){return i})},fcab:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"undefined"!==typeof e&&null!==e&&(null===n&&(n=null!==t?Object.keys(t):Object.keys(e)),n.forEach(function(n){"undefined"===typeof e[n]&&(e[n]=null),"undefined"!==typeof t&&null!==t&&"undefined"!==typeof t[n]&&(e[n]=t[n])}))}function a(e){return"undefined"===typeof e||null===e||"string"===typeof e&&0===e.trim().length}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},ffe1:function(e,t,n){}});
//# sourceMappingURL=app.80039a49.js.map